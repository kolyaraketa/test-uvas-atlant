(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19e4e008"],{"02f3":function(t,n,e){"use strict";e.r(n);var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"websocket"},[e("h1",[t._v("This is an websocket page")]),e("ul",{staticClass:"websocket__btns"},[e("li",[e("button",{attrs:{disabled:t.isSubscribed},on:{click:t.subscribe}},[t._v("Start")])]),e("li",[e("button",{attrs:{disabled:!t.isSubscribed},on:{click:t.unsubscribe}},[t._v("Stop")])]),e("li",[e("button",{on:{click:t.clear}},[t._v("Clear")])])]),t.transactions.length?e("div",{staticClass:"websocket__content"},[e("table",[e("caption",[t._v("Total amount: "+t._s(t.amount/1e8)+"BTC")]),t._m(0),e("tbody",t._l(t.transactions,(function(n){return e("tr",{key:n.hash},[e("td",[t._v(t._s(n.inputs.map((function(t){return t.prev_out.addr})).join("\n")))]),e("td",[t._v(t._s(n.out.map((function(t){return t.addr})).join("\n")))]),e("td",[t._v(t._s(n.sum/1e8)+"BTC")])])})),0)])]):t._e()])},o=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("thead",[e("tr",[e("th",[t._v("From")]),e("th",[t._v("To")]),e("th",[t._v("Sum")])])])}],i=(e("13d5"),e("a434"),{URL_WSS:"wss://ws.blockchain.info/inv",SUBSCRIBE:'{"op":"unconfirmed_sub"}',UNSUBSCRIBE:'{"op":"unconfirmed_unsub"}'}),s={utx:"onUnconfirmedTransaction"},c={name:"Websocket",data:function(){return{socket:{},isSubscribed:!1,transactions:[]}},computed:{amount:function(){return this.transactions.reduce((function(t,n){return t+n.sum}),0)}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.socket=new WebSocket(i.URL_WSS),this.socket.onopen=function(){t.socket.onmessage=t.onNewMsg}},onNewMsg:function(t){var n=JSON.parse(t.data);if(Object.prototype.hasOwnProperty.call(s,n.op))return this[s[n.op]](n)},onUnconfirmedTransaction:function(t){return this.transactions.push({hash:t.x.hash,inputs:t.x.inputs,out:t.x.out,sum:t.x.out.reduce((function(t,n){return t+n.value}),0)})},sendSocketMsg:function(t){return this.socket.send(t)},subscribe:function(){this.isSubscribed=!0,this.sendSocketMsg(i.SUBSCRIBE)},unsubscribe:function(){this.isSubscribed=!1,this.sendSocketMsg(i.UNSUBSCRIBE)},clear:function(){this.transactions.splice(0)}}},u=c,a=(e("4d1a"),e("2877")),f=Object(a["a"])(u,r,o,!1,null,"12aa3744",null);n["default"]=f.exports},"13d5":function(t,n,e){"use strict";var r=e("23e7"),o=e("d58f").left,i=e("a640"),s=e("ae40"),c=i("reduce"),u=s("reduce",{1:0});r({target:"Array",proto:!0,forced:!c||!u},{reduce:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"1dde":function(t,n,e){var r=e("d039"),o=e("b622"),i=e("2d00"),s=o("species");t.exports=function(t){return i>=51||!r((function(){var n=[],e=n.constructor={};return e[s]=function(){return{foo:1}},1!==n[t](Boolean).foo}))}},"4d1a":function(t,n,e){"use strict";var r=e("ad38"),o=e.n(r);o.a},"65f0":function(t,n,e){var r=e("861d"),o=e("e8b5"),i=e("b622"),s=i("species");t.exports=function(t,n){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)?r(e)&&(e=e[s],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===n?0:n)}},8418:function(t,n,e){"use strict";var r=e("c04e"),o=e("9bf2"),i=e("5c6c");t.exports=function(t,n,e){var s=r(n);s in t?o.f(t,s,i(0,e)):t[s]=e}},a434:function(t,n,e){"use strict";var r=e("23e7"),o=e("23cb"),i=e("a691"),s=e("50c4"),c=e("7b0b"),u=e("65f0"),a=e("8418"),f=e("1dde"),d=e("ae40"),l=f("splice"),b=d("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,p=Math.min,v=9007199254740991,S="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!l||!b},{splice:function(t,n){var e,r,f,d,l,b,_=c(this),m=s(_.length),w=o(t,m),k=arguments.length;if(0===k?e=r=0:1===k?(e=0,r=m-w):(e=k-2,r=p(h(i(n),0),m-w)),m+e-r>v)throw TypeError(S);for(f=u(_,r),d=0;d<r;d++)l=w+d,l in _&&a(f,d,_[l]);if(f.length=r,e<r){for(d=w;d<m-r;d++)l=d+r,b=d+e,l in _?_[b]=_[l]:delete _[b];for(d=m;d>m-r+e;d--)delete _[d-1]}else if(e>r)for(d=m-r;d>w;d--)l=d+r-1,b=d+e-1,l in _?_[b]=_[l]:delete _[b];for(d=0;d<e;d++)_[d+w]=arguments[d+2];return _.length=m-r+e,f}})},a640:function(t,n,e){"use strict";var r=e("d039");t.exports=function(t,n){var e=[][t];return!!e&&r((function(){e.call(null,n||function(){throw 1},1)}))}},ad38:function(t,n,e){},ae40:function(t,n,e){var r=e("83ab"),o=e("d039"),i=e("5135"),s=Object.defineProperty,c={},u=function(t){throw t};t.exports=function(t,n){if(i(c,t))return c[t];n||(n={});var e=[][t],a=!!i(n,"ACCESSORS")&&n.ACCESSORS,f=i(n,0)?n[0]:u,d=i(n,1)?n[1]:void 0;return c[t]=!!e&&!o((function(){if(a&&!r)return!0;var t={length:-1};a?s(t,1,{enumerable:!0,get:u}):t[1]=1,e.call(t,f,d)}))}},d58f:function(t,n,e){var r=e("1c0b"),o=e("7b0b"),i=e("44ad"),s=e("50c4"),c=function(t){return function(n,e,c,u){r(e);var a=o(n),f=i(a),d=s(a.length),l=t?d-1:0,b=t?-1:1;if(c<2)while(1){if(l in f){u=f[l],l+=b;break}if(l+=b,t?l<0:d<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:d>l;l+=b)l in f&&(u=e(u,f[l],l,a));return u}};t.exports={left:c(!1),right:c(!0)}},e8b5:function(t,n,e){var r=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}}}]);
//# sourceMappingURL=chunk-19e4e008.2b873dce.js.map